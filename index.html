<html>
    <head>
        <title>cover</title>
        <script src="js/mat.js"></script>
    </head>
    <body>
		<label id="label_level">null</label>
        <canvas id="main_display" style="display:block"></canvas>
		<button id="last_button">last</button>
		<select id="choose_select"></select>
		<button id="next_button">next</button>
        <script>
            var canvas = document.getElementById("main_display");
			var button_next = document.getElementById("next_button");
			var button_last = document.getElementById("last_button");
			var label_level = document.getElementById("label_level");
            var sqr = new Square(7);
            sqr.setData(1);
			var slct = document.getElementById("choose_select");
            
            for(var l in data_all) {
                var opt = document.createElement('option');;
                opt.text = (parseInt(l)+1).toString();
                slct.add(opt);
            }
            slct.onchange = function(e) {
                sqr.setData(slct.value);
                label_level.textContent = sqr.getDataNum();
                sqr.render(canvas);
            }

			label_level.textContent="1";
            
            button_next.onclick = function(e) {
                console.log(sqr.getDataNum());
                sqr.setData(sqr.getDataNum()+1);
                console.log(sqr.getDataNum());
                label_level.textContent = sqr.getDataNum();
                sqr.render(canvas);
                slct.value = sqr.getDataNum();
            }
            button_last.onclick = function(e) {
                sqr.setData(sqr.getDataNum()-1);
                label_level.textContent = sqr.getDataNum();
                sqr.render(canvas);
                slct.value = sqr.getDataNum();
            }

            sqr.setData(1);
            sqr.render(canvas);
            canvas.onclick = function(e) {
                var x = e.clientX - canvas.offsetLeft;
                var y = e.clientY - canvas.offsetTop;
                sqr.click(x, y);
                sqr.render(canvas);
            };
            canvas.onmousemove = function(e) {
                var x = e.clientX - canvas.offsetLeft;
                var y = e.clientY - canvas.offsetTop;
                sqr.mouseMove(x, y);
                sqr.render(canvas);
            }
            canvas.onmouseout = function(e) {
                sqr.mouseOut();
                sqr.render(canvas);
            }
        </script>
    </body>
</html>
